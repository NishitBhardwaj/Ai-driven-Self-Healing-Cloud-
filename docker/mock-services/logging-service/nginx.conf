server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index index.html;

    # Health check endpoint
    location /health {
        access_log off;
        return 200 "healthy\n";
        add_header Content-Type text/plain;
    }

    # Metrics endpoint (Prometheus format)
    location /metrics {
        access_log off;
        return 200 "# HELP logging_service_requests_total Total number of requests\n# TYPE logging_service_requests_total counter\nlogging_service_requests_total 100\n# HELP logging_service_logs_total Total number of logs processed\n# TYPE logging_service_logs_total counter\nlogging_service_logs_total 5000\n";
        add_header Content-Type text/plain;
    }

    # Logs endpoint
    location /logs {
        access_log off;
        return 200 '{"logs": [{"timestamp": "2024-01-01T00:00:00Z", "level": "INFO", "message": "Sample log entry"}]}';
        add_header Content-Type application/json;
    }

    # Default location
    location / {
        try_files $uri $uri/ =404;
    }
}

